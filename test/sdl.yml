version: "2.0"
services:
  three-d-models:
    image: runpod/pytorch:2.2.0-py3.10-cuda12.1.1-devel-ubuntu22.04
    expose:
      - port: 80
        as: 80
        to:
          - global: true
      - port: 3000
        as: 3000
        to:
          - global: true
      - port: 8888
        as: 8888
        to:
          - global: true
    env:
      - >-
        PUBLIC_KEY=PuTTY-User-Key-File-3: ssh-rsaEncryption: noneComment:
        imported-openssh-keyPublic-Lines:
        6AAAAB3NzaC1yc2EAAAADAQABAAABAQCCXaJ+5GxAjTTef81MxIUyKeXkDNNZjiim2GR0mkd7OnhdmpdDANsAGexVEJ4FlhvSVWTyzg8Uq8yQzq3aHiFG9YEU1CM//2iZdWkuoas+O7Xa8gl/fi6G2AeWHiQzpmLcpdVp5zbP8Z7PJtbdqmCSIqmrUTEXL9kDnyYzCx2HVQZZ/L2TCwyaeuO5py6t1j8dTAZrzkmkJ/UXuJEKMPtbLtHD96Lql4+sMRL54GZFnJq0TMZwV3S/MUARRVwfiqK5JZNaSqs6aw33L5uXpvlXvTkLQvOTsBc2eWwneNAE//hb0jzCXnnYSZ+ICWaXiui+O1lqIkRRmMoMqkHYZJ+9Private-Lines:
        14AAABAG2Bz/y9Tf2PX+jC/CZPMf+oWDcPWv3wP0+fmAqmigMGY5NlR0h+UHguTmpKMiNJK4esOccHtn1LruO46Sq+gn+DvHFNnWql1iyKBten8Buvtpv7EmVpDhYxI3ZDTW+hhYwJNVLnaRCVyywBWR4Mf2BiA5on8o+inq2/IyxfWueRHE+kgL2UXx2K+OTXXf2nXaXuMCqSkrGSSlorAoIOXJdR5UUZ6S9TFvEEeuN7oKlWLliT255po92UeLe58SiFONPRnyYfFreIGSJiCXpP6S8+W/okl6i1UtbrgJiFenHRMiGiJGsmAEVIyIt+2sbi5N3tY4yEV5Ymswi/OcThIgEAAACBAM3hsxEUuN/nwF3fAQWY1k80dNYxTyLI5gp/lOsFS7kD6L2Cox3rG+AKfUXxMcWwfNQdYAxQJJzBZaLujLjnfsAtLRom1f671OEMpgDdkxxGZE5vysEQqMD0TOU43dAEpFhkmvn87eSVvysVneLOOWW68ws0q5zdQNgoPveEIhs9AAAAgQCiGd/9piBgbYE8D3cXcsBfJ9tNq5UP/GeIUGrBuZOJnwUacwa/aJFebcQ+nIPrOm08dJrkLmUCVwzlpVMa26T/Nep7JV+twtf2v31QgeyZbLxf5daKy4yT2YYDhpDBdYNOOFPAqAedtBN3KoHFAKJsHavcMeIhPLTxrSBqH07egQAAAIEApCzUQyxLyspsBFREtFOxhi0YMsCZQNIPsRGNOkAkWOaULyllcdN9ZrtxXh24BVkCuB66YsefmNhfN6SxJ8MAFMDY7teoLrHgyxI8fKovZdJagucAq5UurEWedRqzLEx7HLkIlK2m/vGj2WrljR2D2agtORrVFAaInNBbBqWY+gc
      - JUPYTER_PASSWORD=Kfeij149EAhna14a
    params:
      storage:
        workspace:
          mount: /workspace
          readOnly: false
profiles:
  compute:
    three-d-models:
      resources:
        cpu:
          units: 8
        memory:
          size: 80Gi
        storage:
          - size: 20Gi
          - name: workspace
            size: 70Gi
            attributes:
              persistent: true
              class: beta3
        gpu:
          units: 1
          attributes:
            vendor:
              nvidia:
                - model: rtxa6000
                  ram: 48Gi
                  interface: pcie
  placement:
    dcloud:
      pricing:
        three-d-models:
          denom: uakt
          amount: 1000
deployment:
  three-d-models:
    dcloud:
      profile: three-d-models
      count: 1